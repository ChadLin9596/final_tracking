<launch>
    <param name="/use_sim_time" value="true"/>
    <include file="$(find final_tracking)/launch/tf_gpal.launch"/>
    <node pkg="final_tracking" type="point_raw_transform" name="point_raw_transfrom"/>

    <node pkg="final_tracking" type="final_tracking" name="final_tracking" output="screen"/>

    <param name="minimum_range" type="double" value="0.3"/>
    <param name="scan_line" type="int" value="32" />
    <node pkg="final_tracking" type="ascanRegistration" name="ascanRegistration"/>
    <node pkg="final_tracking" type="alaserOdometry" name="alaserOdometry"/>

    <node pkg="final_tracking" type="predict_odometry" name="predict_odometry"/>

    <!-- visualization -->
    <arg name="isRviz" default="true"/>
    <group if="$(arg isRviz)">
        <node launch-prefix="nice" pkg="rviz" type="rviz" name="rviz"
        args="-d $(find final_tracking)/rviz_cfg/final_localization.rviz" />
    </group>

    <arg name="isRqt" default="false"/>
    <group if="$(arg isRqt)">
        <arg name="plot_topic" default="/predict/pos1/pose/pose/position"/>
        <node pkg="rqt_plot" type="rqt_plot" name="rqt_plot1" args="$(arg plot_topic)"/>
    </group>
</launch>
